---
layout: post
title: 3.3 ëª¨ë“ˆë¡œ ë§Œë“¤ê¸°
author: admin
date: 2023-04-21 08:00:00 +900
lastmod: 2023-04-21 08:00:00 +900
sitemap:
  changefreq: monthly
  priority: 0.5
categories: [NODE, NODEJSêµê³¼ì„œ] # ëŒ€ë¬¸ìë¡œ ì‘ì„±
tags: [node, nodejs, ë…¸ë“œêµê³¼ì„œ] # ì†Œë¬¸ìë¡œ ì‘ì„±
---

> ê¸°ì¡´ ë¸”ë¡œê·¸ì— ì‘ì„±í–ˆë˜ í¬ìŠ¤íŠ¸ë¥¼ ì´ì „í•œ ê¸€ì…ë‹ˆë‹¤.
{:.prompt-info}

> í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” `NODEJS`ë¥¼ í•™ìŠµí•˜ë©° ì •ë¦¬í•œ ë‚´ìš©ì— ëŒ€í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.
{:.prompt-info}

<br/>

---

<br/>

# **ğŸŒˆ ëª¨ë“ˆë¡œ ë§Œë“¤ê¸°**

## **ğŸ’» ëª¨ë“ˆ**

ë…¸ë“œëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ëª¨ë“ˆë¡œ ë§Œë“¤ ìˆ˜ ìˆìŒ

- ëª¨ë“ˆ: íŠ¹ì •í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë“¤ì˜ ì§‘í•©

- ëª¨ë“ˆë¡œ ë§Œë“¤ë©´ ì—¬ëŸ¬ í”„ë¡œê·¸ë¨ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥

![ëª¨ë“ˆ](https://github.com/leekoby/leekoby.github.io/assets/118284808/b7006f86-202a-425f-b199-a692665588d5){: width="500" height="500" }

<br/>

## **ğŸ’» ëª¨ë“ˆ ë§Œë“¤ì–´ë³´ê¸°**

ê°™ì€ í´ë” ë‚´ì— var.js, func.js, index.js ë§Œë“¤ê¸°

- íŒŒì¼ ëì— module.exportsë¡œ ëª¨ë“ˆë¡œ ë§Œë“¤ ê°’ì„ ì§€ì •

- ë‹¤ë¥¸ íŒŒì¼ì—ì„œ require(íŒŒì¼ ê²½ë¡œ)ë¡œ ê·¸ ëª¨ë“ˆì˜ ë‚´ìš© ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ


ğŸ”»var.js

```js
const odd = 'í™€ìˆ˜ì…ë‹ˆë‹¤';
const even = 'ì§ìˆ˜ì…ë‹ˆë‹¤';

module.exports = {
  odd,
  even,
};
```

ğŸ”»func.js

```js
const { odd, even } = require('./var');

function checkOddOrEven(num) {
  if (num % 2) { // í™€ìˆ˜ë©´
    return odd;
  }
  return even;
}

module.exports = checkOddOrEven;
```

ğŸ”»index.js

```js
const { odd, even } = require('./var');
const checkNumber = require('./func');

function checkStringOddOrEven(str) {
  if (str.length % 2) { // í™€ìˆ˜ë©´
    return odd;
  }
  return even;
}

console.log(checkNumber(10));
console.log(checkStringOddOrEven('hello'));
```

## **ğŸ’» íŒŒì¼ ê°„ì˜ ëª¨ë“ˆ ê´€ê³„**

node indexë¡œ ì‹¤í–‰

- const { odd, even } ë¶€ë¶„ì€ module.exportsë¥¼ êµ¬ì¡°ë¶„í•´ í• ë‹¹í•œ ê²ƒì„

![requireì™€ module.export](https://github.com/leekoby/leekoby.github.io/assets/118284808/42122f4c-89c0-4a0a-80b8-9408f37cb3c4){: width="500" height="500" }


<br/>

## **ğŸ’» ECMAScript ëª¨ë“ˆ**

ìë°”ìŠ¤í¬ë¦½íŠ¸ ìì²´ ëª¨ë“ˆ ì‹œìŠ¤í…œ ë¬¸ë²•ì´ ìƒê¹€

- ì•„ì§ ë…¸ë“œì—ì„œì˜ ì§€ì›ì€ ì™„ë²½í•˜ì§€ ì•ŠìŒ. mjs í™•ì¥ìë¥¼ ì‚¬ìš©í•´ì•¼ í•¨.

- í¬ê²ŒëŠ” require ëŒ€ì‹  import, module.exports ëŒ€ì‹  export defaultë¥¼ ì“°ëŠ” ê²ƒìœ¼ë¡œ ë°”ë€œ

ğŸ”»func.mjs

```js
import { odd, even } from './var';

function checkOddOrEven(num) {
  if (num % 2) { // í™€ìˆ˜ë©´
    return odd;
  }
  return even;
}

export default checkOddOrEven;
```

```shell
$ node index.mjs
MJS ì§ìˆ˜ì…ë‹ˆë‹¤
MJS í™€ìˆ˜ì…ë‹ˆë‹¤
```

mjs í™•ì¥ì ëŒ€ì‹  js í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ES ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë ¤ë©´ package.jsonì— type: "module" ì†ì„±ì„ ë„£ìœ¼ë©´ ëœë‹¤.

CommonJS ëª¨ë“ˆê³¼ëŠ” ë‹¤ë¥´ê²Œ import ì‹œ íŒŒì¼ ê²½ë¡œì—ì„œ js, mjs ê°™ì€ í™•ì¥ìëŠ” ìƒëµí•  ìˆ˜ ì—†ë‹¤.

ë˜í•œ, í´ë” ë‚´ë¶€ì—ì„œ index.jsë„ ìƒëµí•  ìˆ˜ ì—†ë‹¤.

**ğŸ”»CommonJS ëª¨ë“ˆê³¼ ECMAScript ëª¨ë“ˆì˜ ì°¨ì´**

| ì°¨ì´ì  | CommenJS ëª¨ë“ˆ | ECMAScript ëª¨ë“ˆ |
|:-|:-|:-|
|ë¬¸ë²•|require('./a');<br/>module.exports = A;<br/>const A = require('./a');<br/>exports.C = D;<br/>const E = F; exports.E = E;<br/>const { C, E } = require ('./b');|import './a.mjs';<br/>export default A;<br/>import A from './a.mjs';<br/>export const C = D;<br/>const E = F; export { E };<br/>import { C, E } from './b.mjs';|
|í™•ì¥ì|js<br/>cjs|js(package.jsonì— type: "module" í•„ìš”)<br/>mjs|
|í™•ì¥ì ìƒëµ|ê°€ëŠ¥|ë¶ˆê°€ëŠ¥|
|ë‹¤ì´ë‚´ë¯¹ ì„í¬íŠ¸|ê°€ëŠ¥|ë¶ˆê°€ëŠ¥|
|ì¸ë±ìŠ¤(index) ìƒëµ|ê°€ëŠ¥<br/>(require('./folder'))|ë¶ˆê°€ëŠ¥<br/>(import './folder/index.mjs')|
|top level await|ë¶ˆê°€ëŠ¥|ê°€ëŠ¥|
|__filename, <br/>__dirname, <br/>require, <br/>module.exports, <br/>exports | ì‚¬ìš© ê°€ëŠ¥|ì‚¬ìš© ë¶ˆê°€ëŠ¥<br/>(__filename ëŒ€ì‹  import.meta.url ì‚¬ìš©)|
|ì„œë¡œ ê°„ í˜¸ì¶œ|ê°€ëŠ¥|ê°€ëŠ¥|


## **ğŸ’» ë‹¤ì´ë‚´ë¯¹ ì„í¬íŠ¸**

ì¡°ê±´ë¶€ë¡œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì„ ë‹¤ì´ë‚´ë¯¹ ì„í¬íŠ¸

ğŸ”»dynamic.js

```js
const a = false;
if (a) {
    require('./func');
}
console.log('ì„±ê³µ');
```
```shell
node dynamic
ì„±ê³µ
```

í•˜ì§€ë§Œ ES ëª¨ë“ˆì€ ifë¬¸ ì•ˆì—ì„œ importí•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥ 

ì´ëŸ´ ë•Œ ë‹¤ì´ë‚´ë¯¹ ì„í¬íŠ¸ë¥¼ ì‚¬ìš©

```js
const a = true;
if (a) {
    const m1 = await import('./func.mjs');
    console.log(m1);
    const m2 = await import('./var.mjs');
    console.log(m2);
}
```
```shell
$ node dynamic.mjs
[Module: null prototype] { default: [Function: checkOddOrEven] }
[Module: null prototype] { even: 'MJS ì§ìˆ˜ì…ë‹ˆë‹¤', odd: 'MJS í™€ìˆ˜ì…ë‹ˆë‹¤' }
```

importë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤. 

importëŠ” Promiseë¥¼ ë°˜í™˜í•˜ê¸°ì— awaitì´ë‚˜ thenì„ ë¶™ì—¬ì•¼ í•œë‹¤. 

ìœ„ ì½”ë“œì—ì„œëŠ” async í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ëŠ”ë°, ES ëª¨ë“ˆì˜ ìµœìƒìœ„ ìŠ¤ì½”í”„ì—ì„œëŠ” async í•¨ìˆ˜ ì—†ì´ë„ awaití•  ìˆ˜ ìˆë‹¤. CommonJS ëª¨ë“ˆì—ì„œëŠ” ì•ˆ ëœë‹¤.

<br/>

---

<br/>

## ğŸ“š **ë ˆí¼ëŸ°ìŠ¤**

>ì¡°í˜„ì˜. Node.js êµê³¼ì„œ = Node.js Textbook / ì¡°í˜„ì˜ ì§€ìŒ (2022). Print.
{:.prompt-info}

>[[ë¦¬ë‰´ì–¼] Node.js êµê³¼ì„œ - ê¸°ë³¸ë¶€í„° í”„ë¡œì íŠ¸ ì‹¤ìŠµê¹Œì§€](https://www.inflearn.com/course/%EB%85%B8%EB%93%9C-%EA%B5%90%EA%B3%BC%EC%84%9C){:target="_blank"}
{:.prompt-info}
